{% extends "dashboard.html" %}


{% block  head %}
{{super()}}

<script>
$(document).ready(function() 
{ 
	$("#mytable").tablesorter(); 
} 
);
				    
</script>

{% endblock %}

{% block content %}
 <h1 class="page-header">Users</h1>
  <div>
	Total: {{ users|length }}
  </div>

  <h2 class="sub-header">List</h2>
  <div class="table-responsive">
  <table id='mytable' class="table table-striped tablesorter">
	  <thead>
   <tr>
    <th>email</th>
    <th># of Commits</th>
    <th>Projects</th>
    <th>&Sigma; &Delta; SLOC</th>
    <th>&Sigma; &Delta; FLOC</th>
   </tr>
   </thead>
   <tbody>
  {% for user in users %}
    <tr>
	    <td><a href="{{url_for('user', email=user.email)}}">{{user.email}}</a></td>
      <td>{{user.no_commits}} </td>
      <td>
        {% for project in user.projects %}
	  <a href="{{ url_for('project', project_id=project.id) }}" class="label label-default">{{project.name}}</a>
        {% endfor %}
     </td>
     <td>{{user.sum_delta_sloc}}</td>
     <td>{{user.sum_delta_floc}}</td>
  {% else %}
    <tr><td colspan="3">Unbelievable. No users here so far</td></tr>
  {% endfor %}
  </tbody>
  </table>
  </div>
{% endblock %}
